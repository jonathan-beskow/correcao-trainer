<div class="suggestion-container">
  <h2>Sugerir Corre√ß√£o de C√≥digo</h2>

  <label for="tipo">Tipo de vulnerabilidade:</label>
  <input id="tipo" [(ngModel)]="tipo" placeholder="Ex: SQL Injection" />

  <label for="codigo">C√≥digo vulner√°vel:</label>
  <textarea id="codigo" [(ngModel)]="codigo" placeholder="Cole seu c√≥digo aqui..." rows="8"></textarea>

  <div class="button-row">
    <button (click)="sugerirCorrecao()">Sugerir Corre√ß√£o</button>
    <button (click)="cadastrarCorrecao()">Cadastrar Corre√ß√£o</button>
  </div>

<!-- ‚è≥ GIF animado enquanto carrega -->
<div *ngIf="loading" class="loading-container">
  <img src="https://i.gifer.com/YCZH.gif" alt="Carregando..." class="loading-gif" />
  <p>Gerando sugest√£o de corre√ß√£o...</p>
</div>

<!-- ‚ö†Ô∏è Timeout / Erro -->
<div *ngIf="timeoutMsg" class="erro-msg">
  <p>{{ timeoutMsg }}</p>
</div>


<div *ngIf="correcao" class="resultado-container">
  <h4>Justificativa da Corre√ß√£o:</h4>
  <p class="explicacao">{{ formatarCodigoCompleto(correcao).justificativa }}</p>

  <h4>C√≥digo Corrigido:</h4>
  <pre class="codigo-html">{{ formatarCodigoCompleto(correcao).codigo }}</pre>

  <button class="copy-btn" (click)="copiarParaClipboard()">Copiar</button>

</div>



  <!-- ‚úÖ Link para ver os apontamentos cadastrados -->
  <div style="margin-top: 2rem; text-align: center;">
    <a routerLink="/listar" class="ver-apontamentos-link">üîç Ver Apontamentos Cadastrados</a>
  </div>
</div>
